Summary:
9 Total Failures

- 16, 3080 is a Test_runGarbageCollector_StreamWithContext_error that seg faulted --> unexpected fault address 0x1a75ea0
- 1484, 3122, 7510 are all Test_runGarbageCollector_StreamWithContext_error failures --> panic: runtime error: invalid memory address or nil pointer dereference [recovered]
- 3103 is a Test_runGarbageCollector failure --> panic: runtime error: invalid memory address or nil pointer dereference [recovered]
- 3544 is a Test_runGarbageCollector_stdout_non_empty failure --> panic: runtime error: invalid memory address or nil pointer dereference [recovered]
- 6748 is a Test_runGarbageCollector_stdout_non_empty that seg faulted --> unexpected fault address 0x1859bc0
- 9985 is a Test_runGarbageCollector_NewSPDYExecutor_error that seg faulted --> runtime: nameOff 0x74736967 base 0xc0001b8200 not in ranges:

Run 16:
=== RUN   TestRunGarbageCollector/Test_runGarbageCollector_StreamWithContext_error (seg fault)

time="2024-01-22T23:39:54Z" level=info msg="Running garbage collector operation: 'registry garbage-collect --delete-untagged /etc/docker/registry/config.yml'"

unexpected fault address 0x1a75ea0

fatal error: fault

[signal SIGSEGV: segmentation violation code=0x2 addr=0x1a75ea0 pc=0x1a75ea0]

goroutine 537 [running]:

runtime.throw({0x1abf650?, 0x10?})

/usr/local/go/src/runtime/panic.go:1047 +0x5d fp=0xc000b2b710 sp=0xc000b2b6e0 pc=0x44071d

runtime.sigpanic()

/usr/local/go/src/runtime/signal_unix.go:842 +0x1ca fp=0xc000b2b740 sp=0xc000b2b710 pc=0x45790a

reflect.callReflect(0xc000da0450, 0x4ec00a?, 0xc000b2bb60, 0xc000b2bb68)

/usr/local/go/src/reflect/value.go:860 +0x59f fp=0xc000b2bb10 sp=0xc000b2b740 pc=0x4e147f

reflect.callReflect(0xc000da0450, 0xc000b2bc88, 0xc000b2bb60, 0xc000b2bb68)

<autogenerated>:1 +0x4b fp=0xc000b2bb40 sp=0xc000b2bb10 pc=0x4ec06b

reflect.makeFuncStub()

/usr/local/go/src/reflect/asm_amd64.s:47 +0x7a fp=0xc000b2bc88 sp=0xc000b2bb40 pc=0x4ebeda

lir-svc/internal/release.execCmdOnPod({0x1c47e00?, 0xc00050bd00?}, 0xc000e2a200?, 0xc0002dfb00, {0x1b36a4e, 0x4a})

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:376 +0x225 fp=0xc000b2bdb0 sp=0xc000b2bc88 pc=0x1643de5

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc000da02a0, 0x11?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:349 +0x4c5 fp=0xc000b2beb0 sp=0xc000b2bdb0 pc=0x16439a5

lir-svc/internal/release.TestRunGarbageCollector.func5(0xc00017a570?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:416 +0x193 fp=0xc000b2bf70 sp=0xc000b2beb0 pc=0x1650bd3

testing.tRunner(0xc000de8ea0, 0xc000e94ff0)

/usr/local/go/src/testing/testing.go:1446 +0x111 fp=0xc000b2bfc0 sp=0xc000b2bf70 pc=0x522131

testing.(*T).Run.func1()

/usr/local/go/src/testing/testing.go:1493 +0x2a fp=0xc000b2bfe0 sp=0xc000b2bfc0 pc=0x522f4a

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000b2bfe8 sp=0xc000b2bfe0 pc=0x4757e1

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

goroutine 529 [chan receive]:

runtime.gopark(0x1bba0f0, 0xc000db22f8, 0xe, 0x17, 0x2)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc0000f9d88 sp=0xc0000f9d58 pc=0x4432dd

runtime.chanrecv(0xc000db22a0, 0xc0000f9e87, 0x1)

/usr/local/go/src/runtime/chan.go:583 +0x319 fp=0xc0000f9e18 sp=0xc0000f9d88 pc=0x408ef9

runtime.chanrecv1(0xc00056b320?, 0xc00041e6e0?)

/usr/local/go/src/runtime/chan.go:442 +0x18 fp=0xc0000f9e40 sp=0xc0000f9e18 pc=0x408b78

testing.(*T).Run(0xc000d29a00, {0x1b09c2a?, 0x292f528?}, 0xc000e94ff0)

/usr/local/go/src/testing/testing.go:1494 +0x370 fp=0xc0000f9ee0 sp=0xc0000f9e40 pc=0x522e90

lir-svc/internal/release.TestRunGarbageCollector(0xc00051b8b0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:409 +0x5aa fp=0xc0000f9f70 sp=0xc0000f9ee0 pc=0x16505aa

testing.tRunner(0xc000d29a00, 0x1bb9c40)

/usr/local/go/src/testing/testing.go:1446 +0x111 fp=0xc0000f9fc0 sp=0xc0000f9f70 pc=0x522131

testing.(*T).Run.func1()

/usr/local/go/src/testing/testing.go:1493 +0x2a fp=0xc0000f9fe0 sp=0xc0000f9fc0 pc=0x522f4a

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc0000f9fe8 sp=0xc0000f9fe0 pc=0x4757e1

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

goroutine 134 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc0002e3dd0 sp=0xc0002e3da0 pc=0x4432dd

runtime.selectgo(0xc0002e3f90, 0xc0002cdf58, 0xc0000a2f80?, 0x0, 0x0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc0002e3f28 sp=0xc0002e3dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc0002a3860, 0x1bb9c38?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc0002e3fc0 sp=0xc0002e3f28 pc=0x164cd7b

lir-svc/internal/release.TestRsyncFilesLirDataLirF.func4()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:553 +0x2b fp=0xc0002e3fe0 sp=0xc0002e3fc0 pc=0x1648a8b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc0002e3fe8 sp=0xc0002e3fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRsyncFilesLirDataLirF

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:553 +0x24d

goroutine 142 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc00009ddd0 sp=0xc00009dda0 pc=0x4432dd

runtime.selectgo(0xc00009df90, 0xc000c21f58, 0xc000c21f80?, 0x0, 0xc0000e7a20?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc00009df28 sp=0xc00009ddd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc0002a3a40, 0x82ece4?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc00009dfc0 sp=0xc00009df28 pc=0x164cd7b

lir-svc/internal/release.TestLoadPushSquashfsLirDR.func8()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:681 +0x2b fp=0xc00009dfe0 sp=0xc00009dfc0 pc=0x164aa4b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc00009dfe8 sp=0xc00009dfe0 pc=0x4757e1

created by lir-svc/internal/release.TestLoadPushSquashfsLirDR

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:681 +0xc2e

goroutine 235 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc0000a1dd0 sp=0xc0000a1da0 pc=0x4432dd

runtime.selectgo(0xc0000a1f90, 0xc000553f58, 0xc000553f80?, 0x0, 0x0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc0000a1f28 sp=0xc0000a1dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000db0d80, 0x0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc0000a1fc0 sp=0xc0000a1f28 pc=0x164cd7b

lir-svc/internal/release.TestDeleteContainerImages.func4()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:285 +0x2b fp=0xc0000a1fe0 sp=0xc0000a1fc0 pc=0x164fa2b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc0000a1fe8 sp=0xc0000a1fe0 pc=0x4757e1

created by lir-svc/internal/release.TestDeleteContainerImages

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:285 +0x636

goroutine 536 [runnable]:

runtime.gopark(0x1bba0f0, 0xc000e29a38, 0xf, 0x16, 0x2)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000b2fe70 sp=0xc000b2fe40 pc=0x4432dd

runtime.chansend(0xc000e299e0, 0xc000b2ff78, 0x1, 0x1?)

/usr/local/go/src/runtime/chan.go:259 +0x265 fp=0xc000b2fef8 sp=0xc000b2fe70 pc=0x4083e5

runtime.chansend1(0x1ad37a2?, 0xc?)

/usr/local/go/src/runtime/chan.go:145 +0x1d fp=0xc000b2ff28 sp=0xc000b2fef8 pc=0x40815d

lir-svc/internal/release.WaitPrintStatus(0xc000e299e0, 0xc000e946c0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1066 +0x145 fp=0xc000b2ffc0 sp=0xc000b2ff28 pc=0x164ce25

lir-svc/internal/release.TestRunGarbageCollector.func4.1()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:395 +0x2b fp=0xc000b2ffe0 sp=0xc000b2ffc0 pc=0x165106b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000b2ffe8 sp=0xc000b2ffe0 pc=0x4757e1

created by lir-svc/internal/release.TestRunGarbageCollector.func4

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:395 +0xac

goroutine 527 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000b2ddd0 sp=0xc000b2dda0 pc=0x4432dd

runtime.selectgo(0xc000b2df90, 0xc000b2df58, 0xc0000fcf80?, 0x0, 0x1c466c0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc000b2df28 sp=0xc000b2ddd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000e29860, 0xc0001647b8?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc000b2dfc0 sp=0xc000b2df28 pc=0x164cd7b

lir-svc/internal/release.TestRemoveReleaseFiles.func2()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:319 +0x2b fp=0xc000b2dfe0 sp=0xc000b2dfc0 pc=0x164ffcb

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000b2dfe8 sp=0xc000b2dfe0 pc=0x4757e1

created by lir-svc/internal/release.TestRemoveReleaseFiles

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:319 +0xfc

goroutine 532 [runnable]:

lir-svc/internal/release.TestRunGarbageCollector.func2.1()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:365 fp=0xc000c967e0 sp=0xc000c967d8 pc=0x16516e0

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000c967e8 sp=0xc000c967e0 pc=0x4757e1

created by lir-svc/internal/release.TestRunGarbageCollector.func2

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:365 +0xa5

goroutine 547 [runnable]:

runtime.gopark(0x1bba0f0, 0xc000e29a38, 0xf, 0x16, 0x2)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000b43e70 sp=0xc000b43e40 pc=0x4432dd

runtime.chansend(0xc000e299e0, 0xc000b43f78, 0x1, 0x1?)

/usr/local/go/src/runtime/chan.go:259 +0x265 fp=0xc000b43ef8 sp=0xc000b43e70 pc=0x4083e5

runtime.chansend1(0x1ad37a2?, 0xc?)

/usr/local/go/src/runtime/chan.go:145 +0x1d fp=0xc000b43f28 sp=0xc000b43ef8 pc=0x40815d

lir-svc/internal/release.WaitPrintStatus(0xc000e299e0, 0xc000053e40?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1066 +0x145 fp=0xc000b43fc0 sp=0xc000b43f28 pc=0x164ce25

lir-svc/internal/release.TestRunGarbageCollector.func1.1()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:359 +0x2b fp=0xc000b43fe0 sp=0xc000b43fc0 pc=0x165186b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000b43fe8 sp=0xc000b43fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRunGarbageCollector.func1

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:359 +0x85

goroutine 538 [runnable]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000557dd0 sp=0xc000557da0 pc=0x4432dd

runtime.selectgo(0xc000557f90, 0xc000557f58, 0xc000c04780?, 0x0, 0x0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc000557f28 sp=0xc000557dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000e299e0, 0xc000e949c0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc000557fc0 sp=0xc000557f28 pc=0x164cd7b

lir-svc/internal/release.TestRunGarbageCollector.func5.1()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:411 +0x2b fp=0xc000557fe0 sp=0xc000557fc0 pc=0x1650d2b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000557fe8 sp=0xc000557fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRunGarbageCollector.func5

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:411 +0xac

Run 1484:

--- FAIL: TestRunGarbageCollector (0.01s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_InClusterConfig_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_getPrimaryPod_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_NewSPDYExecutor_error (0.00s)

    --- FAIL: TestRunGarbageCollector/Test_runGarbageCollector_StreamWithContext_error (0.00s)

time="2024-01-22T23:44:56Z" level=info msg="Received Status: Running garbage collector on primary lir-data pod for release-version PL9-0.0"

panic: runtime error: invalid memory address or nil pointer dereference [recovered]

panic: runtime error: invalid memory address or nil pointer dereference

[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x0]

goroutine 457 [running]:

testing.tRunner.func1.2({0x183fd80, 0x28d3610})

/usr/local/go/src/testing/testing.go:1396 +0x24e

testing.tRunner.func1()

/usr/local/go/src/testing/testing.go:1399 +0x43d

panic({0x183fd80, 0x28d3610})

/usr/local/go/src/runtime/panic.go:884 +0x217

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc000039fb0, 0x11?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:328 +0x21a

lir-svc/internal/release.TestRunGarbageCollector.func5(0xc00046fa60?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:416 +0x193

testing.tRunner(0xc000c50000, 0xc000440420)

/usr/local/go/src/testing/testing.go:1446 +0x111

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

Run 3080:

=== RUN   TestRunGarbageCollector/Test_runGarbageCollector_StreamWithContext_error (seg fault)

time="2024-01-22T23:50:20Z" level=info msg="Running garbage collector operation: 'registry garbage-collect --delete-untagged /etc/docker/registry/config.yml'"

runtime: nameOff 0x74736967 base 0xc0005be000 not in ranges:

types 0x1655000 etypes 0x1c86ce9

fatal error: runtime: name offset base pointer out of range

goroutine 459 [running]:

runtime.throw({0x1b06839?, 0xc00026ac90?})

/usr/local/go/src/runtime/panic.go:1047 +0x5d fp=0xc000777460 sp=0xc000777430 pc=0x44071d

runtime.resolveNameOff(0xc00019ce00?, 0x74736967)

/usr/local/go/src/runtime/type.go:221 +0x1b6 fp=0xc0007774b8 sp=0xc000777460 pc=0x46b7f6

reflect.resolveNameOff(0xc00019ce00?, 0x4da5c9?)

/usr/local/go/src/runtime/runtime1.go:508 +0x19 fp=0xc0007774d8 sp=0xc0007774b8 pc=0x471299

reflect.(*rtype).nameOff(0x181e1a0?, 0x16?)

/usr/local/go/src/reflect/type.go:736 +0x19 fp=0xc0007774f8 sp=0xc0007774d8 pc=0x4d6239

reflect.(*rtype).String(0xc0005be000)

/usr/local/go/src/reflect/type.go:806 +0x25 fp=0xc000777518 sp=0xc0007774f8 pc=0x4d6445

reflect.Value.assignTo({0xc0005be000?, 0x71?, 0xc0007775f8?}, {0x1ac7f89, 0xb}, 0x4de805?, 0x0)

/usr/local/go/src/reflect/value.go:3145 +0x269 fp=0xc0007775c0 sp=0xc000777518 pc=0x4e9c09

reflect.Value.Set({0x1a75ea0?, 0xc000622018?, 0x7efcba068c68?}, {0xc0005be000?, 0x71?, 0xc2?})

/usr/local/go/src/reflect/value.go:2160 +0xa7 fp=0xc000777638 sp=0xc0007775c0 pc=0x4e6a07

github.com/agiledragon/gomonkey/v2.GetResultValues({0x1c5a4a8, 0xc0004886c0}, {0xc000140390?, 0x1, 0xc000140c60?})

/data/workspace/feist/go/pkg/mod/github.com/agiledragon/gomonkey/v2@v2.9.0/patch.go:320 +0x16f fp=0xc000777708 sp=0xc000777638 pc=0x162e88f

github.com/agiledragon/gomonkey/v2.getDoubleFunc.func1({0xc0004886c0?, 0x5?, 0x8?})

/data/workspace/feist/go/pkg/mod/github.com/agiledragon/gomonkey/v2@v2.9.0/patch.go:302 +0x4b fp=0xc000777740 sp=0xc000777708 pc=0x162e6ab

reflect.callReflect(0xc0004b4f30, 0x4ec00a?, 0xc000777b60, 0xc000777b68)

/usr/local/go/src/reflect/value.go:770 +0x59f fp=0xc000777b10 sp=0xc000777740 pc=0x4e147f

reflect.callReflect(0xc0004b4f30, 0xc000777c88, 0xc000777b60, 0xc000777b68)

<autogenerated>:1 +0x4b fp=0xc000777b40 sp=0xc000777b10 pc=0x4ec06b

reflect.makeFuncStub()

/usr/local/go/src/reflect/asm_amd64.s:47 +0x7a fp=0xc000777c88 sp=0xc000777b40 pc=0x4ebeda

lir-svc/internal/release.execCmdOnPod({0x1c47e00?, 0xc0002fb6d0?}, 0xc0005be000?, 0xc000632900, {0x1b36a4e, 0x4a})

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:376 +0x225 fp=0xc000777db0 sp=0xc000777c88 pc=0x1643de5

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc0004b4d50, 0x11?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:349 +0x4c5 fp=0xc000777eb0 sp=0xc000777db0 pc=0x16439a5

lir-svc/internal/release.TestRunGarbageCollector.func5(0xc0000a4950?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:416 +0x193 fp=0xc000777f70 sp=0xc000777eb0 pc=0x1650bd3

testing.tRunner(0xc000603860, 0xc0004c55c0)

/usr/local/go/src/testing/testing.go:1446 +0x111 fp=0xc000777fc0 sp=0xc000777f70 pc=0x522131

testing.(*T).Run.func1()

/usr/local/go/src/testing/testing.go:1493 +0x2a fp=0xc000777fe0 sp=0xc000777fc0 pc=0x522f4a

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000777fe8 sp=0xc000777fe0 pc=0x4757e1

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

Run 3103:

=== RUN   TestRunGarbageCollector/Test_runGarbageCollector

--- FAIL: TestRunGarbageCollector (0.01s)

    --- FAIL: TestRunGarbageCollector/Test_runGarbageCollector (0.01s)

time="2024-01-22T23:50:25Z" level=info msg="Running garbage collector on primary lir-data pod for release-version PL9-0.0"

panic: runtime error: invalid memory address or nil pointer dereference [recovered]

panic: runtime error: invalid memory address or nil pointer dereference

[signal SIGSEGV: segmentation violation code=0x1 addr=0x69 pc=0x1265916]

goroutine 503 [running]:

testing.tRunner.func1.2({0x183fd80, 0x28d3610})

/usr/local/go/src/testing/testing.go:1396 +0x24e

testing.tRunner.func1()

/usr/local/go/src/testing/testing.go:1399 +0x43d

panic({0x183fd80, 0x28d3610})

/usr/local/go/src/runtime/panic.go:884 +0x217

k8s.io/client-go/rest.CopyConfig(0xc0002446c0)

/data/workspace/feist/go/pkg/mod/k8s.io/client-go@v0.26.3/rest/config.go:667 +0x616

k8s.io/client-go/dynamic.ConfigFor(0x0?)

/data/workspace/feist/go/pkg/mod/k8s.io/client-go@v0.26.3/dynamic/simple.go:43 +0x1d

k8s.io/client-go/dynamic.NewForConfig(0x0?)

/data/workspace/feist/go/pkg/mod/k8s.io/client-go@v0.26.3/dynamic/simple.go:72 +0x19

kube.NewClientset(0xc0002446c0)

/data/workspace/feist/nimos/hfcluster/src/kube/client.go:66 +0xbe

lir-svc/internal/cluster.GetClientsetConfig()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/cluster/cluster.go:92 +0x118

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc00043d2f0, 0x2393cc0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:319 +0x12a

lir-svc/internal/release.TestRunGarbageCollector.func1(0xc0004b9870?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:360 +0x9e

testing.tRunner(0xc0006fb040, 0xc00043d6b0)

/usr/local/go/src/testing/testing.go:1446 +0x111

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

Run 3122:

--- FAIL: TestRunGarbageCollector (0.01s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_InClusterConfig_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_getPrimaryPod_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_NewSPDYExecutor_error (0.00s)

    --- FAIL: TestRunGarbageCollector/Test_runGarbageCollector_StreamWithContext_error (0.00s)

time="2024-01-22T23:50:31Z" level=info msg="Received Status: Running garbage collector on primary lir-data pod for release-version PL9-0.0"

panic: runtime error: invalid memory address or nil pointer dereference [recovered]

panic: runtime error: invalid memory address or nil pointer dereference

[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x0]

goroutine 427 [running]:

testing.tRunner.func1.2({0x183fd80, 0x28d3610})

/usr/local/go/src/testing/testing.go:1396 +0x24e

testing.tRunner.func1()

/usr/local/go/src/testing/testing.go:1399 +0x43d

panic({0x183fd80, 0x28d3610})

/usr/local/go/src/runtime/panic.go:884 +0x217

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc000d74120, 0x11?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:328 +0x21a

lir-svc/internal/release.TestRunGarbageCollector.func5(0xc0002144e0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:416 +0x193

testing.tRunner(0xc0004936c0, 0xc000d74540)

/usr/local/go/src/testing/testing.go:1446 +0x111

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

Run 3544:

--- FAIL: TestRunGarbageCollector (0.02s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_InClusterConfig_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_getPrimaryPod_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_NewSPDYExecutor_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_StreamWithContext_error (0.00s)

    --- FAIL: TestRunGarbageCollector/Test_runGarbageCollector_stdout_non_empty (0.00s)

time="2024-01-22T23:51:56Z" level=info msg="Received Status: Running garbage collector on primary lir-data pod for release-version PL9-0.0"

panic: runtime error: invalid memory address or nil pointer dereference [recovered]

panic: runtime error: invalid memory address or nil pointer dereference

[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x0]

goroutine 443 [running]:

testing.tRunner.func1.2({0x183fd80, 0x28d3610})

/usr/local/go/src/testing/testing.go:1396 +0x24e

testing.tRunner.func1()

/usr/local/go/src/testing/testing.go:1399 +0x43d

panic({0x183fd80, 0x28d3610})

/usr/local/go/src/runtime/panic.go:884 +0x217

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc000127470, 0x3?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:328 +0x21a

lir-svc/internal/release.TestRunGarbageCollector.func6(0xc0004eb1e0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:435 +0x236

testing.tRunner(0xc000b2cea0, 0xc0001272f0)

/usr/local/go/src/testing/testing.go:1446 +0x111

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

Run 6748:

=== RUN   TestRunGarbageCollector/Test_runGarbageCollector_stdout_non_empty (seg fault)

time="2024-01-23T00:02:48Z" level=info msg="Received Status: Running garbage collector operation: 'registry garbage-collect --delete-untagged /etc/docker/registry/config.yml'"

unexpected fault address 0x1859bc0

fatal error: fault

[signal SIGSEGV: segmentation violation code=0x2 addr=0x1859bc0 pc=0x1859bc0]

goroutine 448 [running]:

runtime.throw({0x1abf650?, 0x10?})

/usr/local/go/src/runtime/panic.go:1047 +0x5d fp=0xc000593828 sp=0xc0005937f8 pc=0x44071d

runtime.sigpanic()

/usr/local/go/src/runtime/signal_unix.go:842 +0x1ca fp=0xc000593858 sp=0xc000593828 pc=0x45790a

reflect.callReflect(0xc0003c7b00, 0x4ec00a?, 0xc000593c78, 0xc000593c80)

/usr/local/go/src/reflect/value.go:860 +0x59f fp=0xc000593c28 sp=0xc000593858 pc=0x4e147f

reflect.callReflect(0xc0003c7b00, 0xc000593da0, 0xc000593c78, 0xc000593c80)

<autogenerated>:1 +0x4b fp=0xc000593c58 sp=0xc000593c28 pc=0x4ec06b

reflect.makeFuncStub()

/usr/local/go/src/reflect/asm_amd64.s:47 +0x7a fp=0xc000593da0 sp=0xc000593c58 pc=0x4ebeda

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc0003c7a10, 0x3?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:328 +0x21a fp=0xc000593ea0 sp=0xc000593da0 pc=0x16436fa

lir-svc/internal/release.TestRunGarbageCollector.func6(0x73eaec?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:435 +0x236 fp=0xc000593f70 sp=0xc000593ea0 pc=0x1650896

testing.tRunner(0xc000312b60, 0xc0004505a0)

/usr/local/go/src/testing/testing.go:1446 +0x111 fp=0xc000593fc0 sp=0xc000593f70 pc=0x522131

testing.(*T).Run.func1()

/usr/local/go/src/testing/testing.go:1493 +0x2a fp=0xc000593fe0 sp=0xc000593fc0 pc=0x522f4a

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000593fe8 sp=0xc000593fe0 pc=0x4757e1

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

goroutine 439 [chan receive]:

runtime.gopark(0x1bba0f0, 0xc0000b6218, 0xe, 0x17, 0x2)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc0005b8d88 sp=0xc0005b8d58 pc=0x4432dd

runtime.chanrecv(0xc0000b61c0, 0xc0005b8e87, 0x1)

/usr/local/go/src/runtime/chan.go:583 +0x319 fp=0xc0005b8e18 sp=0xc0005b8d88 pc=0x408ef9

runtime.chanrecv1(0xc0004f92f0?, 0xc0003c0280?)

/usr/local/go/src/runtime/chan.go:442 +0x18 fp=0xc0005b8e40 sp=0xc0005b8e18 pc=0x408b78

testing.(*T).Run(0xc0003129c0, {0x1af8e19?, 0x292f528?}, 0xc0004505a0)

/usr/local/go/src/testing/testing.go:1494 +0x370 fp=0xc0005b8ee0 sp=0xc0005b8e40 pc=0x522e90

lir-svc/internal/release.TestRunGarbageCollector(0xc000682680?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:421 +0x634 fp=0xc0005b8f70 sp=0xc0005b8ee0 pc=0x1650634

testing.tRunner(0xc0003129c0, 0x1bb9c40)

/usr/local/go/src/testing/testing.go:1446 +0x111 fp=0xc0005b8fc0 sp=0xc0005b8f70 pc=0x522131

testing.(*T).Run.func1()

/usr/local/go/src/testing/testing.go:1493 +0x2a fp=0xc0005b8fe0 sp=0xc0005b8fc0 pc=0x522f4a

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc0005b8fe8 sp=0xc0005b8fe0 pc=0x4757e1

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

goroutine 131 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000517dd0 sp=0xc000517da0 pc=0x4432dd

runtime.selectgo(0xc000517f90, 0xc0005c5f58, 0xc0005c5f80?, 0x0, 0x0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc000517f28 sp=0xc000517dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000615740, 0x1bb9c38?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc000517fc0 sp=0xc000517f28 pc=0x164cd7b

lir-svc/internal/release.TestRsyncFilesLirDataLirF.func4()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:553 +0x2b fp=0xc000517fe0 sp=0xc000517fc0 pc=0x1648a8b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000517fe8 sp=0xc000517fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRsyncFilesLirDataLirF

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:553 +0x24d

goroutine 163 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000518dd0 sp=0xc000518da0 pc=0x4432dd

runtime.selectgo(0xc000518f90, 0xc0005c7f58, 0xc0005c7f80?, 0x0, 0xc00008e7b0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc000518f28 sp=0xc000518dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000615920, 0xc00025e360?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc000518fc0 sp=0xc000518f28 pc=0x164cd7b

lir-svc/internal/release.TestLoadPushSquashfsLirDR.func8()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:681 +0x2b fp=0xc000518fe0 sp=0xc000518fc0 pc=0x164aa4b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000518fe8 sp=0xc000518fe0 pc=0x4757e1

created by lir-svc/internal/release.TestLoadPushSquashfsLirDR

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:681 +0xc2e

goroutine 176 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc00052edd0 sp=0xc00052eda0 pc=0x4432dd

runtime.selectgo(0xc00052ef90, 0xc0005dff58, 0xc0005dff80?, 0x0, 0x0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc00052ef28 sp=0xc00052edd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000832fc0, 0x0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc00052efc0 sp=0xc00052ef28 pc=0x164cd7b

lir-svc/internal/release.TestDeleteContainerImages.func4()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:285 +0x2b fp=0xc00052efe0 sp=0xc00052efc0 pc=0x164fa2b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc00052efe8 sp=0xc00052efe0 pc=0x4757e1

created by lir-svc/internal/release.TestDeleteContainerImages

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:285 +0x636

goroutine 441 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000143dd0 sp=0xc000143da0 pc=0x4432dd

runtime.selectgo(0xc000143f90, 0xc000143f58, 0xc000143f80?, 0x0, 0xc000224518?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc000143f28 sp=0xc000143dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc0000362a0, 0xc000483fb8?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc000143fc0 sp=0xc000143f28 pc=0x164cd7b

lir-svc/internal/release.TestRunGarbageCollector.func1.1()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:359 +0x2b fp=0xc000143fe0 sp=0xc000143fc0 pc=0x165186b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000143fe8 sp=0xc000143fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRunGarbageCollector.func1

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:359 +0x85

goroutine 540 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc0005b9dd0 sp=0xc0005b9da0 pc=0x4432dd

runtime.selectgo(0xc0005b9f90, 0xc000145f58, 0xc000145f80?, 0x0, 0xc000224518?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc0005b9f28 sp=0xc0005b9dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc0005a62a0, 0xc000483fb8?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc0005b9fc0 sp=0xc0005b9f28 pc=0x164cd7b

lir-svc/internal/release.TestRemoveReleaseFiles.func2()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:319 +0x2b fp=0xc0005b9fe0 sp=0xc0005b9fc0 pc=0x164ffcb

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc0005b9fe8 sp=0xc0005b9fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRemoveReleaseFiles

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:319 +0xfc

goroutine 449 [runnable]:

time.tzsetName({0xc0000f2b70, 0x4})

/usr/local/go/src/time/zoneinfo.go:346 +0x211 fp=0xc000141348 sp=0xc000141340 pc=0x49a831

time.tzset({0xc0000f2b70?, 0x7fb2aa89f5b8?}, 0xc000831608?, 0x65af0228)

/usr/local/go/src/time/zoneinfo.go:257 +0x46 fp=0xc000141490 sp=0xc000141348 pc=0x49a086

time.(*Location).lookup(0x28fcf80?, 0x65af0228)

/usr/local/go/src/time/zoneinfo.go:185 +0x20e fp=0xc0001414f8 sp=0xc000141490 pc=0x499e6e

time.Time.locabs({0xc163de6a3606a187, 0x17fc70d49, 0x28fcf80})

/usr/local/go/src/time/time.go:472 +0x9a fp=0xc000141528 sp=0xc0001414f8 pc=0x49685a

time.Time.AppendFormat({0x600000040?, 0x7fb2aa753258?, 0x28fcf80?}, {0xc000141728, 0x0, 0x40}, {0x1adc8aa, 0x19})

/usr/local/go/src/time/format.go:616 +0x76 fp=0xc0001416d0 sp=0xc000141528 pc=0x48f816

time.Time.Format({0x292f528?, 0x1abec82?, 0x28fcf80?}, {0x1adc8aa?, 0x28fcf80?})

/usr/local/go/src/time/format.go:608 +0xe5 fp=0xc000141780 sp=0xc0001416d0 pc=0x48f725

github.com/sirupsen/logrus.(*TextFormatter).Format(0xc0000b82a0, 0xc0001b08c0)

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/text_formatter.go:210 +0x1299 fp=0xc000141cb8 sp=0xc000141780 pc=0x811719

github.com/sirupsen/logrus.(*Entry).write(0xc0001b08c0)

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/entry.go:289 +0x84 fp=0xc000141d30 sp=0xc000141cb8 pc=0x80b644

github.com/sirupsen/logrus.(*Entry).log(0xc000504620?, 0x4, {0xc0000366c0, 0x5e})

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/entry.go:252 +0x225 fp=0xc000141db8 sp=0xc000141d30 pc=0x80b225

github.com/sirupsen/logrus.(*Entry).Log(0xc0001b0000, 0x5e?, {0xc000504620, 0x1, 0x1})

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/entry.go:304 +0x65 fp=0xc000141df0 sp=0xc000141db8 pc=0x80b825

github.com/sirupsen/logrus.(*Entry).Logf(0xc0001b0000, 0x4?, {0x1ad37a2, 0x13}, {0xc000504780, 0x1, 0x1})

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/entry.go:349 +0xa5 fp=0xc000141e40 sp=0xc000141df0 pc=0x80bd65

github.com/sirupsen/logrus.(*Logger).Logf(0x400074780?, 0xaa752058?, {0x1ad37a2, 0x13}, {0xc000504780, 0x1, 0x1})

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/logger.go:154 +0x86 fp=0xc000141ea0 sp=0xc000141e40 pc=0x80df46

github.com/sirupsen/logrus.(*Logger).Infof(0xc000504790?, {0x1ad37a2?, 0x40e067?}, {0xc000504780?, 0x17685e0?, 0x1?})

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/logger.go:168 +0x37 fp=0xc000141ee8 sp=0xc000141ea0 pc=0x80e137

github.com/sirupsen/logrus.Infof({0x1ad37a2?, 0x4d?}, {0xc000504780?, 0x0?, 0x75d2a0?})

/data/workspace/feist/go/pkg/mod/github.com/sirupsen/logrus@v1.9.3/exported.go:199 +0x3c fp=0xc000141f28 sp=0xc000141ee8 pc=0x80cb5c

lir-svc/internal/release.WaitPrintStatus(0xc0000362a0, 0xc0001805a0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1063 +0xff fp=0xc000141fc0 sp=0xc000141f28 pc=0x164cddf

lir-svc/internal/release.TestRunGarbageCollector.func6.1()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:423 +0x2b fp=0xc000141fe0 sp=0xc000141fc0 pc=0x1650a0b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000141fe8 sp=0xc000141fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRunGarbageCollector.func6

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:423 +0xa5

Run 7510:

--- FAIL: TestRunGarbageCollector (0.02s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_InClusterConfig_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_getPrimaryPod_error (0.00s)

    --- PASS: TestRunGarbageCollector/Test_runGarbageCollector_NewSPDYExecutor_error (0.00s)

    --- FAIL: TestRunGarbageCollector/Test_runGarbageCollector_StreamWithContext_error (0.00s)

time="2024-01-23T00:05:24Z" level=info msg="Running garbage collector operation: 'registry garbage-collect --delete-untagged /etc/docker/registry/config.yml'"

panic: runtime error: invalid memory address or nil pointer dereference [recovered]

panic: runtime error: invalid memory address or nil pointer dereference

[signal SIGSEGV: segmentation violation code=0x1 addr=0x1 pc=0x1]

goroutine 463 [running]:

testing.tRunner.func1.2({0x183fd80, 0x28d3610})

/usr/local/go/src/testing/testing.go:1396 +0x24e

testing.tRunner.func1()

/usr/local/go/src/testing/testing.go:1399 +0x43d

panic({0x183fd80, 0x28d3610})

/usr/local/go/src/runtime/panic.go:884 +0x217

lir-svc/internal/release.execCmdOnPod({0x1c47e00?, 0xc0001b9250?}, 0xc0000e8080?, 0xc000768480, {0x1b36a4e, 0x4a})

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:384 +0x22a

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc000d29dd0, 0x11?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:349 +0x4c5

lir-svc/internal/release.TestRunGarbageCollector.func5(0xc0001b9a30?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:416 +0x193

testing.tRunner(0xc000007d40, 0xc0004d1da0)

/usr/local/go/src/testing/testing.go:1446 +0x111

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

Run 9985:

=== RUN   TestRunGarbageCollector/Test_runGarbageCollector_NewSPDYExecutor_error (seg fault)

time="2024-01-23T00:13:48Z" level=info msg="Running garbage collector operation: 'registry garbage-collect --delete-untagged /etc/docker/registry/config.yml'"

runtime: nameOff 0x74736967 base 0xc0001b8200 not in ranges:

types 0x1655000 etypes 0x1c86ce9

fatal error: runtime: name offset base pointer out of range

time="2024-01-23T00:13:48Z" level=info msg="Received Status: Running garbage collector operation: 'registry garbage-collect --delete-untagged /etc/docker/registry/config.yml'"

goroutine 493 [running]:

runtime.throw({0x1b06839?, 0xc00026ac90?})

/usr/local/go/src/runtime/panic.go:1047 +0x5d fp=0xc000ef5460 sp=0xc000ef5430 pc=0x44071d

runtime.resolveNameOff(0xc00029acb1?, 0x74736967)

/usr/local/go/src/runtime/type.go:221 +0x1b6 fp=0xc000ef54b8 sp=0xc000ef5460 pc=0x46b7f6

reflect.resolveNameOff(0xc00029acb0?, 0x4da5c9?)

/usr/local/go/src/runtime/runtime1.go:508 +0x19 fp=0xc000ef54d8 sp=0xc000ef54b8 pc=0x471299

reflect.(*rtype).nameOff(0x181e1a0?, 0x16?)

/usr/local/go/src/reflect/type.go:736 +0x19 fp=0xc000ef54f8 sp=0xc000ef54d8 pc=0x4d6239

reflect.(*rtype).String(0xc0001b8200)

/usr/local/go/src/reflect/type.go:806 +0x25 fp=0xc000ef5518 sp=0xc000ef54f8 pc=0x4d6445

reflect.Value.assignTo({0xc0001b8200?, 0x71?, 0xc000ef55f8?}, {0x1ac7f89, 0xb}, 0x4de805?, 0x0)

/usr/local/go/src/reflect/value.go:3145 +0x269 fp=0xc000ef55c0 sp=0xc000ef5518 pc=0x4e9c09

reflect.Value.Set({0x1a75ea0?, 0xc0003e6028?, 0x7fe86da14502?}, {0xc0001b8200?, 0x71?, 0x40ffbd?})

/usr/local/go/src/reflect/value.go:2160 +0xa7 fp=0xc000ef5638 sp=0xc000ef55c0 pc=0x4e6a07

github.com/agiledragon/gomonkey/v2.GetResultValues({0x1c5a4a8, 0xc000506fc0}, {0xc000510100?, 0x1, 0xc000510190?})

/data/workspace/feist/go/pkg/mod/github.com/agiledragon/gomonkey/v2@v2.9.0/patch.go:320 +0x16f fp=0xc000ef5708 sp=0xc000ef5638 pc=0x162e88f

github.com/agiledragon/gomonkey/v2.getDoubleFunc.func1({0xc000506fc0?, 0x5?, 0x8?})

/data/workspace/feist/go/pkg/mod/github.com/agiledragon/gomonkey/v2@v2.9.0/patch.go:302 +0x4b fp=0xc000ef5740 sp=0xc000ef5708 pc=0x162e6ab

reflect.callReflect(0xc000513440, 0x4ec00a?, 0xc000ef5b60, 0xc000ef5b68)

/usr/local/go/src/reflect/value.go:770 +0x59f fp=0xc000ef5b10 sp=0xc000ef5740 pc=0x4e147f

reflect.callReflect(0xc000513440, 0xc000ef5c88, 0xc000ef5b60, 0xc000ef5b68)

<autogenerated>:1 +0x4b fp=0xc000ef5b40 sp=0xc000ef5b10 pc=0x4ec06b

reflect.makeFuncStub()

/usr/local/go/src/reflect/asm_amd64.s:47 +0x7a fp=0xc000ef5c88 sp=0xc000ef5b40 pc=0x4ebeda

lir-svc/internal/release.execCmdOnPod({0x1c47e00?, 0xc0004a9650?}, 0xc0001b8200?, 0xc0004ba900, {0x1b36a4e, 0x4a})

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:376 +0x225 fp=0xc000ef5db0 sp=0xc000ef5c88 pc=0x1643de5

lir-svc/internal/release.runGarbageCollector({0x1ac1541, 0x7}, 0xc000513290, 0x2?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release.go:349 +0x4c5 fp=0xc000ef5eb0 sp=0xc000ef5db0 pc=0x16439a5

lir-svc/internal/release.TestRunGarbageCollector.func4(0x0?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:404 +0x1b3 fp=0xc000ef5f70 sp=0xc000ef5eb0 pc=0x1650f13

testing.tRunner(0xc000602d00, 0xc0001501e0)

/usr/local/go/src/testing/testing.go:1446 +0x111 fp=0xc000ef5fc0 sp=0xc000ef5f70 pc=0x522131

testing.(*T).Run.func1()

/usr/local/go/src/testing/testing.go:1493 +0x2a fp=0xc000ef5fe0 sp=0xc000ef5fc0 pc=0x522f4a

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000ef5fe8 sp=0xc000ef5fe0 pc=0x4757e1

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

goroutine 490 [chan receive]:

runtime.gopark(0x1bba0f0, 0xc000230218, 0xe, 0x17, 0x2)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000650d88 sp=0xc000650d58 pc=0x4432dd

runtime.chanrecv(0xc0002301c0, 0xc000650e87, 0x1)

/usr/local/go/src/runtime/chan.go:583 +0x319 fp=0xc000650e18 sp=0xc000650d88 pc=0x408ef9

runtime.chanrecv1(0xc0001c8660?, 0xc001012050?)

/usr/local/go/src/runtime/chan.go:442 +0x18 fp=0xc000650e40 sp=0xc000650e18 pc=0x408b78

testing.(*T).Run(0xc0006b7d40, {0x1b0455d?, 0x292f528?}, 0xc0001501e0)

/usr/local/go/src/testing/testing.go:1494 +0x370 fp=0xc000650ee0 sp=0xc000650e40 pc=0x522e90

lir-svc/internal/release.TestRunGarbageCollector(0xc00010f160?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:393 +0x516 fp=0xc000650f70 sp=0xc000650ee0 pc=0x1650516

testing.tRunner(0xc0006b7d40, 0x1bb9c40)

/usr/local/go/src/testing/testing.go:1446 +0x111 fp=0xc000650fc0 sp=0xc000650f70 pc=0x522131

testing.(*T).Run.func1()

/usr/local/go/src/testing/testing.go:1493 +0x2a fp=0xc000650fe0 sp=0xc000650fc0 pc=0x522f4a

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000650fe8 sp=0xc000650fe0 pc=0x4757e1

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:1493 +0x355

goroutine 172 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc00009cdd0 sp=0xc00009cda0 pc=0x4432dd

runtime.selectgo(0xc00009cf90, 0xc0004f5f58, 0xc0004f5f80?, 0x0, 0x0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc00009cf28 sp=0xc00009cdd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc0006a8ae0, 0x1bb9c38?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc00009cfc0 sp=0xc00009cf28 pc=0x164cd7b

lir-svc/internal/release.TestRsyncFilesLirDataLirF.func4()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:553 +0x2b fp=0xc00009cfe0 sp=0xc00009cfc0 pc=0x1648a8b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc00009cfe8 sp=0xc00009cfe0 pc=0x4757e1

created by lir-svc/internal/release.TestRsyncFilesLirDataLirF

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:553 +0x24d

goroutine 473 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc0000a1dd0 sp=0xc0000a1da0 pc=0x4432dd

runtime.selectgo(0xc0000a1f90, 0xc0001d5f58, 0xc0001d5f80?, 0x0, 0x1c466c0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc0000a1f28 sp=0xc0000a1dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000fc7980, 0xc0005e47b8?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc0000a1fc0 sp=0xc0000a1f28 pc=0x164cd7b

lir-svc/internal/release.TestRemoveReleaseFiles.func2()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:319 +0x2b fp=0xc0000a1fe0 sp=0xc0000a1fc0 pc=0x164ffcb

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc0000a1fe8 sp=0xc0000a1fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRemoveReleaseFiles

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:319 +0xfc

goroutine 197 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc00009fdd0 sp=0xc00009fda0 pc=0x4432dd

runtime.selectgo(0xc00009ff90, 0xc0001dbf58, 0xc0001dbf80?, 0x0, 0xc00051aa40?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc00009ff28 sp=0xc00009fdd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc0006a8cc0, 0xc0004e5798?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc00009ffc0 sp=0xc00009ff28 pc=0x164cd7b

lir-svc/internal/release.TestLoadPushSquashfsLirDR.func8()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:681 +0x2b fp=0xc00009ffe0 sp=0xc00009ffc0 pc=0x164aa4b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc00009ffe8 sp=0xc00009ffe0 pc=0x4757e1

created by lir-svc/internal/release.TestLoadPushSquashfsLirDR

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:681 +0xc2e

goroutine 367 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc00009edd0 sp=0xc00009eda0 pc=0x4432dd

runtime.selectgo(0xc00009ef90, 0xc0001dbf58, 0xc0001dbf80?, 0x0, 0xc00051ba00?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc00009ef28 sp=0xc00009edd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc001042780, 0xc0005e7f98?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc00009efc0 sp=0xc00009ef28 pc=0x164cd7b

lir-svc/internal/release.TestDeleteContainerImages.func4()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:285 +0x2b fp=0xc00009efe0 sp=0xc00009efc0 pc=0x164fa2b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc00009efe8 sp=0xc00009efe0 pc=0x4757e1

created by lir-svc/internal/release.TestDeleteContainerImages

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:285 +0x636

goroutine 494 [select]:

runtime.gopark(0x1bba358, 0x0, 0x9, 0x18, 0x1)

/usr/local/go/src/runtime/proc.go:363 +0xfd fp=0xc000ef7dd0 sp=0xc000ef7da0 pc=0x4432dd

runtime.selectgo(0xc000ef7f90, 0xc000ef7f58, 0xc000ef7f80?, 0x0, 0xc0003928d0?, 0x1)

/usr/local/go/src/runtime/select.go:328 +0xa49 fp=0xc000ef7f28 sp=0xc000ef7dd0 pc=0x453949

lir-svc/internal/release.WaitPrintStatus(0xc000fc7a40, 0xc000f14580?)

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/add_release_test.go:1061 +0x9b fp=0xc000ef7fc0 sp=0xc000ef7f28 pc=0x164cd7b

lir-svc/internal/release.TestRunGarbageCollector.func4.1()

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:395 +0x2b fp=0xc000ef7fe0 sp=0xc000ef7fc0 pc=0x165106b

runtime.goexit()

/usr/local/go/src/runtime/asm_amd64.s:1594 +0x1 fp=0xc000ef7fe8 sp=0xc000ef7fe0 pc=0x4757e1

created by lir-svc/internal/release.TestRunGarbageCollector.func4

/data/workspace/feist/nimos/hfcluster/src/lir/lir-svc/internal/release/remove_release_test.go:395 +0xac